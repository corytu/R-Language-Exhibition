---
title: "歷年來臺旅客人數與數項經濟指標之關係"
author: "涂玉臻"
date: "2017年3月25日"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, fig.align = "center", comment = "", message = FALSE)
```

```{r, echo = FALSE, eval = FALSE}
setwd("D:/Dropbox/CV_and_auto/R_Playground_on_Github/Taiwan_tourism_GDP/")

library(reshape2)
library(googleVis)
library(magrittr)

tourists <- read.csv("TK0302A1Ac.csv")
# Read the data of tourist numbers from each region each year
tourists$Asia_others <- tourists$Asia - rowSums(tourists[,3:5])
tourists <- tourists[,c(1, 11, 3:10)]

economics <- read.csv("NA8101A1Ac.csv")
# Read in economics indexes

tourist_economics <- merge(tourists, economics, by = "Year") %>%
  melt(measure.vars = 2:10, variable.name = "Regions", value.name = "Visitor_Numbers")

M <- gvisMotionChart(tourist_economics, "Regions", "Year",
                     xvar = "Visitor_Numbers",
                     yvar = "Visitor_Expenditure_Billion_NTD",
                     options = list(showChartButtons = FALSE))
plot(M)
# In R markdown, one has to set result = "asis", and use print(M) instead of plot(M). Alternatively, simply set eval = FALSE, and paste the outcome code below and do further fine tuning.
```

<!-- MotionChart generated in R 3.3.3 by googleVis 0.6.2 package -->
<!-- Sun Mar 26 14:17:43 2017 -->


<!-- jsHeader -->
<script type="text/javascript">


// jsData 
function gvisDataMotionChartID1c1c6b6a6b69 () {
var data = new google.visualization.DataTable();
var datajson =
[
 [
"Asia_others",
2001,
-1.26,
10158.2145,
146.56635,
601392
],
[
"Asia_others",
2002,
5.57,
10680.8975,
158.51472,
642883
],
[
"Asia_others",
2003,
4.12,
10965.8678,
102.43392,
574546
],
[
"Asia_others",
2004,
6.51,
11649.65297,
135.49179,
751278
],
[
"Asia_others",
2005,
5.42,
12092.24642,
160.15986,
910692
],
[
"Asia_others",
2006,
5.62,
12640.80017,
167.07408,
928726
],
[
"Asia_others",
2007,
6.52,
13407.06136,
171.22776,
1018076
],
[
"Asia_others",
2008,
0.7,
13150.94994,
187.22144,
1051221
],
[
"Asia_others",
2009,
-1.57,
12961.6689,
225.33696,
963494
],
[
"Asia_others",
2010,
10.63,
14119.22325,
275.95635,
1277810
],
[
"Asia_others",
2011,
3.8,
14312.19391,
326,
1367323
],
[
"Asia_others",
2012,
2.06,
14686.9289,
348.5,
1438585
],
[
"Asia_others",
2013,
2.2,
15230.74878,
366.8,
1659193
],
[
"Asia_others",
2014,
4.02,
16111.86203,
443.8,
1972474
],
[
"Asia_others",
2015,
0.72,
16759.00436,
458.9,
2144631
],
[
"Asia_others",
2016,
1.5,
17124.42508,
null,
2602554
],
[
"Hong.Kong_and_Macao",
2001,
-1.26,
10158.2145,
146.56635,
435164
],
[
"Hong.Kong_and_Macao",
2002,
5.57,
10680.8975,
158.51472,
456554
],
[
"Hong.Kong_and_Macao",
2003,
4.12,
10965.8678,
102.43392,
323178
],
[
"Hong.Kong_and_Macao",
2004,
6.51,
11649.65297,
135.49179,
417087
],
[
"Hong.Kong_and_Macao",
2005,
5.42,
12092.24642,
160.15986,
432718
],
[
"Hong.Kong_and_Macao",
2006,
5.62,
12640.80017,
167.07408,
431884
],
[
"Hong.Kong_and_Macao",
2007,
6.52,
13407.06136,
171.22776,
491437
],
[
"Hong.Kong_and_Macao",
2008,
0.7,
13150.94994,
187.22144,
618667
],
[
"Hong.Kong_and_Macao",
2009,
-1.57,
12961.6689,
225.33696,
718806
],
[
"Hong.Kong_and_Macao",
2010,
10.63,
14119.22325,
275.95635,
794362
],
[
"Hong.Kong_and_Macao",
2011,
3.8,
14312.19391,
326,
817944
],
[
"Hong.Kong_and_Macao",
2012,
2.06,
14686.9289,
348.5,
1016356
],
[
"Hong.Kong_and_Macao",
2013,
2.2,
15230.74878,
366.8,
1183341
],
[
"Hong.Kong_and_Macao",
2014,
4.02,
16111.86203,
443.8,
1375770
],
[
"Hong.Kong_and_Macao",
2015,
0.72,
16759.00436,
458.9,
1513597
],
[
"Hong.Kong_and_Macao",
2016,
1.5,
17124.42508,
null,
1614803
],
[
"China",
2001,
-1.26,
10158.2145,
146.56635,
211050
],
[
"China",
2002,
5.57,
10680.8975,
158.51472,
233283
],
[
"China",
2003,
4.12,
10965.8678,
102.43392,
212863
],
[
"China",
2004,
6.51,
11649.65297,
135.49179,
220248
],
[
"China",
2005,
5.42,
12092.24642,
160.15986,
211253
],
[
"China",
2006,
5.62,
12640.80017,
167.07408,
299821
],
[
"China",
2007,
6.52,
13407.06136,
171.22776,
306776
],
[
"China",
2008,
0.7,
13150.94994,
187.22144,
329204
],
[
"China",
2009,
-1.57,
12961.6689,
225.33696,
972123
],
[
"China",
2010,
10.63,
14119.22325,
275.95635,
1630735
],
[
"China",
2011,
3.8,
14312.19391,
326,
1784185
],
[
"China",
2012,
2.06,
14686.9289,
348.5,
2586428
],
[
"China",
2013,
2.2,
15230.74878,
366.8,
2874702
],
[
"China",
2014,
4.02,
16111.86203,
443.8,
3987152
],
[
"China",
2015,
0.72,
16759.00436,
458.9,
4184102
],
[
"China",
2016,
1.5,
17124.42508,
null,
3511734
],
[
"Japan",
2001,
-1.26,
10158.2145,
146.56635,
976750
],
[
"Japan",
2002,
5.57,
10680.8975,
158.51472,
998497
],
[
"Japan",
2003,
4.12,
10965.8678,
102.43392,
657053
],
[
"Japan",
2004,
6.51,
11649.65297,
135.49179,
887311
],
[
"Japan",
2005,
5.42,
12092.24642,
160.15986,
1124334
],
[
"Japan",
2006,
5.62,
12640.80017,
167.07408,
1161489
],
[
"Japan",
2007,
6.52,
13407.06136,
171.22776,
1166380
],
[
"Japan",
2008,
0.7,
13150.94994,
187.22144,
1086691
],
[
"Japan",
2009,
-1.57,
12961.6689,
225.33696,
1000661
],
[
"Japan",
2010,
10.63,
14119.22325,
275.95635,
1080153
],
[
"Japan",
2011,
3.8,
14312.19391,
326,
1294758
],
[
"Japan",
2012,
2.06,
14686.9289,
348.5,
1432315
],
[
"Japan",
2013,
2.2,
15230.74878,
366.8,
1421550
],
[
"Japan",
2014,
4.02,
16111.86203,
443.8,
1634790
],
[
"Japan",
2015,
0.72,
16759.00436,
458.9,
1627229
],
[
"Japan",
2016,
1.5,
17124.42508,
null,
1895702
],
[
"America",
2001,
-1.26,
10158.2145,
146.56635,
402327
],
[
"America",
2002,
5.57,
10680.8975,
158.51472,
437078
],
[
"America",
2003,
4.12,
10965.8678,
102.43392,
314721
],
[
"America",
2004,
6.51,
11649.65297,
135.49179,
444528
],
[
"America",
2005,
5.42,
12092.24642,
160.15986,
457156
],
[
"America",
2006,
5.62,
12640.80017,
167.07408,
461033
],
[
"America",
2007,
6.52,
13407.06136,
171.22776,
468996
],
[
"America",
2008,
0.7,
13150.94994,
187.22144,
461269
],
[
"America",
2009,
-1.57,
12961.6689,
225.33696,
442036
],
[
"America",
2010,
10.63,
14119.22325,
275.95635,
474709
],
[
"America",
2011,
3.8,
14312.19391,
326,
495136
],
[
"America",
2012,
2.06,
14686.9289,
348.5,
497597
],
[
"America",
2013,
2.2,
15230.74878,
366.8,
502446
],
[
"America",
2014,
4.02,
16111.86203,
443.8,
565375
],
[
"America",
2015,
0.72,
16759.00436,
458.9,
588192
],
[
"America",
2016,
1.5,
17124.42508,
null,
649337
],
[
"Europe",
2001,
-1.26,
10158.2145,
146.56635,
148569
],
[
"Europe",
2002,
5.57,
10680.8975,
158.51472,
148797
],
[
"Europe",
2003,
4.12,
10965.8678,
102.43392,
118843
],
[
"Europe",
2004,
6.51,
11649.65297,
135.49179,
164945
],
[
"Europe",
2005,
5.42,
12092.24642,
160.15986,
172494
],
[
"Europe",
2006,
5.62,
12640.80017,
167.07408,
172777
],
[
"Europe",
2007,
6.52,
13407.06136,
171.22776,
186483
],
[
"Europe",
2008,
0.7,
13150.94994,
187.22144,
200914
],
[
"Europe",
2009,
-1.57,
12961.6689,
225.33696,
197070
],
[
"Europe",
2010,
10.63,
14119.22325,
275.95635,
203301
],
[
"Europe",
2011,
3.8,
14312.19391,
326,
212148
],
[
"Europe",
2012,
2.06,
14686.9289,
348.5,
218045
],
[
"Europe",
2013,
2.2,
15230.74878,
366.8,
223062
],
[
"Europe",
2014,
4.02,
16111.86203,
443.8,
264880
],
[
"Europe",
2015,
0.72,
16759.00436,
458.9,
274035
],
[
"Europe",
2016,
1.5,
17124.42508,
null,
299756
],
[
"Oceania",
2001,
-1.26,
10158.2145,
146.56635,
38362
],
[
"Oceania",
2002,
5.57,
10680.8975,
158.51472,
41223
],
[
"Oceania",
2003,
4.12,
10965.8678,
102.43392,
32330
],
[
"Oceania",
2004,
6.51,
11649.65297,
135.49179,
50958
],
[
"Oceania",
2005,
5.42,
12092.24642,
160.15986,
55732
],
[
"Oceania",
2006,
5.62,
12640.80017,
167.07408,
52019
],
[
"Oceania",
2007,
6.52,
13407.06136,
171.22776,
61802
],
[
"Oceania",
2008,
0.7,
13150.94994,
187.22144,
68555
],
[
"Oceania",
2009,
-1.57,
12961.6689,
225.33696,
66173
],
[
"Oceania",
2010,
10.63,
14119.22325,
275.95635,
71953
],
[
"Oceania",
2011,
3.8,
14312.19391,
326,
70540
],
[
"Oceania",
2012,
2.06,
14686.9289,
348.5,
75414
],
[
"Oceania",
2013,
2.2,
15230.74878,
366.8,
77722
],
[
"Oceania",
2014,
4.02,
16111.86203,
443.8,
93119
],
[
"Oceania",
2015,
0.72,
16759.00436,
458.9,
90813
],
[
"Oceania",
2016,
1.5,
17124.42508,
null,
98226
],
[
"Africa",
2001,
-1.26,
10158.2145,
146.56635,
8872
],
[
"Africa",
2002,
5.57,
10680.8975,
158.51472,
9255
],
[
"Africa",
2003,
4.12,
10965.8678,
102.43392,
7523
],
[
"Africa",
2004,
6.51,
11649.65297,
135.49179,
9755
],
[
"Africa",
2005,
5.42,
12092.24642,
160.15986,
9201
],
[
"Africa",
2006,
5.62,
12640.80017,
167.07408,
8911
],
[
"Africa",
2007,
6.52,
13407.06136,
171.22776,
8607
],
[
"Africa",
2008,
0.7,
13150.94994,
187.22144,
8499
],
[
"Africa",
2009,
-1.57,
12961.6689,
225.33696,
7735
],
[
"Africa",
2010,
10.63,
14119.22325,
275.95635,
8254
],
[
"Africa",
2011,
3.8,
14312.19391,
326,
8938
],
[
"Africa",
2012,
2.06,
14686.9289,
348.5,
8865
],
[
"Africa",
2013,
2.2,
15230.74878,
366.8,
8795
],
[
"Africa",
2014,
4.02,
16111.86203,
443.8,
9960
],
[
"Africa",
2015,
0.72,
16759.00436,
458.9,
10160
],
[
"Africa",
2016,
1.5,
17124.42508,
null,
10668
],
[
"Unstated",
2001,
-1.26,
10158.2145,
146.56635,
8549
],
[
"Unstated",
2002,
5.57,
10680.8975,
158.51472,
10122
],
[
"Unstated",
2003,
4.12,
10965.8678,
102.43392,
7060
],
[
"Unstated",
2004,
6.51,
11649.65297,
135.49179,
4232
],
[
"Unstated",
2005,
5.42,
12092.24642,
160.15986,
4538
],
[
"Unstated",
2006,
5.62,
12640.80017,
167.07408,
3167
],
[
"Unstated",
2007,
6.52,
13407.06136,
171.22776,
7506
],
[
"Unstated",
2008,
0.7,
13150.94994,
187.22144,
20167
],
[
"Unstated",
2009,
-1.57,
12961.6689,
225.33696,
26906
],
[
"Unstated",
2010,
10.63,
14119.22325,
275.95635,
26000
],
[
"Unstated",
2011,
3.8,
14312.19391,
326,
36512
],
[
"Unstated",
2012,
2.06,
14686.9289,
348.5,
37865
],
[
"Unstated",
2013,
2.2,
15230.74878,
366.8,
65469
],
[
"Unstated",
2014,
4.02,
16111.86203,
443.8,
6684
],
[
"Unstated",
2015,
0.72,
16759.00436,
458.9,
7026
],
[
"Unstated",
2016,
1.5,
17124.42508,
null,
7499
] 
];
data.addColumn('string','Regions');
data.addColumn('number','Year');
data.addColumn('number','Economic_Growth_Rate');
data.addColumn('number','GDP_Billion_NTD');
data.addColumn('number','Visitor_Expenditure_Billion_NTD');
data.addColumn('number','Visitor_Numbers');
data.addRows(datajson);
return(data);
}


// jsDrawChart
function drawChartMotionChartID1c1c6b6a6b69() {
var data = gvisDataMotionChartID1c1c6b6a6b69();
var options = {};
options["width"] = 600;
options["height"] = 500;
options["state"] = "\n{\"xAxisOption\":\"5\",\"yAxisOption\":\"4\",\"dimensions\":{\"iconDimensions\":[\"dim0\"]}}\n";
options["showChartButtons"] = false;


    var chart = new google.visualization.MotionChart(
    document.getElementById('MotionChartID1c1c6b6a6b69')
    );
    chart.draw(data,options);
    

}
  


// jsDisplayChart
(function() {
var pkgs = window.__gvisPackages = window.__gvisPackages || [];
var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
var chartid = "motionchart";
  
// Manually see if chartid is in pkgs (not all browsers support Array.indexOf)
var i, newPackage = true;
for (i = 0; newPackage && i < pkgs.length; i++) {
if (pkgs[i] === chartid)
newPackage = false;
}
if (newPackage)
  pkgs.push(chartid);
  
// Add the drawChart function to the global list of callbacks
callbacks.push(drawChartMotionChartID1c1c6b6a6b69);
})();
function displayChartMotionChartID1c1c6b6a6b69() {
  var pkgs = window.__gvisPackages = window.__gvisPackages || [];
  var callbacks = window.__gvisCallbacks = window.__gvisCallbacks || [];
  window.clearTimeout(window.__gvisLoad);
  // The timeout is set to 100 because otherwise the container div we are
  // targeting might not be part of the document yet
  window.__gvisLoad = setTimeout(function() {
  var pkgCount = pkgs.length;
  google.load("visualization", "1", { packages:pkgs, callback: function() {
  if (pkgCount != pkgs.length) {
  // Race condition where another setTimeout call snuck in after us; if
  // that call added a package, we must not shift its callback
  return;
}
while (callbacks.length > 0)
callbacks.shift()();
} });
}, 100);
}


// jsFooter
</script>


<!-- jsChart -->  
<script type="text/javascript" src="https://www.google.com/jsapi?callback=displayChartMotionChartID1c1c6b6a6b69"></script>


<!-- divChart -->
  
<div id="MotionChartID1c1c6b6a6b69" 
  style="width: 600; height: 500;">
</div>

---

#### 座標軸及資料內容解釋
* Visitor_Numbers：該年度**來自各區域**旅客人數（包括華僑和外籍旅客）<br>
* Visitor_Expenditure_Billion_NTD：該年度**臺灣**觀光外匯收入（新臺幣十億元）<br>
* GDP_Billion_NTD：該年度**臺灣**國內生產毛額（新臺幣十億元）<br>
* Economic_Growth_Rate：該年度**臺灣**經濟成長率（%）

本資料擷取2001年至2016年的數據（按：2001年開始有中國大陸旅客人數資訊，2016年的觀光外匯收入尚未公布）。

#### 圖說
初衷是想從數字看到陸客到底對臺灣的經濟造成什麼影響，不過我對經濟的名詞認識大概還停留在國中地理吧，所以如果能有不同的想法更好！個人看完這個圖，更加警覺臺灣真的必須努力擺脫完全倚靠中國的狀況......

在上圖中，可以先把「Color」和「Size」分別選成「Unique colors」和「Same size」，畢竟我沒有那麼多變項─之後可以研究怎麼不讓它們出現，以及對座標軸標題做更多的自訂─我承認我是為了好玩才做動圖的，不然其實靜態圖就足夠呈現了。「Select」可以選自己有興趣的國家或區域，預設勾選Trails會隨時間播放而出現選定區域的軌跡，如果不選就是單純看各點移動。直接按左下角的播放鍵即可播放。

2008年以前，每年來臺旅客人數可說是沒有成長，觀光外匯收入成長也很緩慢，日本及亞洲其它地區旅客相對較多，但2009年出現交叉，2010年起中國旅客超越其它區域，成為來臺的大宗。這個分水嶺我認為是2008年6月簽署的《海峽兩岸關於大陸居民赴臺灣旅遊協議》，開放陸客來臺。此後隨著中國旅客的大量湧入，臺灣觀光外匯收入也較先前劇烈地增加。其實其它區域的旅客並沒有明顯的減少，而是中國來的旅客多出太多了。

類似的情形也發生在來臺旅客與GDP的關係。2007~2009年的GDP小跌應該與全球金融危機有關。

至於經濟成長率每年的變動就很大了，看起來跟旅客人數關係不明顯。

需要長期關心的可能是之後幾年的變化。2016年中國來臺人數明顯下降，但日本及亞洲其它地區上升的斜率也值得期待；前面提到的幾個經濟指標，除了觀光外匯收入尚未公布以外，GDP成長趨緩，經濟成長率比2015年多了一些，至少看起來沒有真的「地動山搖」，希望臺灣可以擺脫中國的箝制！

#### 資料來源
1. [中華民國統計資訊網](http://www.stat.gov.tw/mp.asp?mp=4)<br>
2. [交通部觀光局行政資訊系統](http://admin.taiwan.net.tw/index.aspx)<br>
3. [中華民國行政院 觀光市場發展概況 106-03-08](http://www.ey.gov.tw/policy9/cp.aspx?n=0DEBD7C9E0E491AF)<br>
4. [中華民國99年觀光統計年報](http://admin.taiwan.net.tw/upload/contentFile/auser/b/annual_statistical_2010_htm/Chinese/htm/p16.htm)